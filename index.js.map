{"version":3,"file":"index.js","sources":["../src/js/dataFetch.js","../src/js/feedback.js"],"sourcesContent":["import axios from 'axios';\n\nexport async function getDataFromAPI(endPoint, page, limit) {\n  const baseURL = 'https://furniture-store.b.goit.study/api/';\n  const searchParams = new URLSearchParams({\n    page: page,\n    limit: limit,\n  });\n\n  const url = `${baseURL}${endPoint}?${searchParams.toString()}`;\n  const response = await axios(url);\n  return response.data;\n}\n","import { getDataFromAPI } from './dataFetch.js';\nimport '../css/feadback.css';\n\nimport Swiper from 'swiper';\nimport { Navigation, Pagination } from 'swiper/modules';\nimport 'swiper/css';\nimport 'swiper/css/navigation';\nimport 'swiper/css/pagination';\n\nfunction normalizeRate(rate) {\n  if (rate >= 3.3 && rate <= 3.7) return 3.5;\n  if (rate >= 3.8 && rate <= 4.2) return 4;\n  return Math.round(rate * 2) / 2;\n}\n\nfunction createSlides(feedbacks) {\n  return feedbacks\n    .map(({ descr, name, rate }) => {\n      const normalizedRate = normalizeRate(rate);\n      return `\n      <div class=\"swiper-slide\">\n        <div class=\"feedback-card\">\n          <div class=\"raty\" data-score=\"${normalizedRate}\"></div>\n          <p class=\"feedback-text\">\"${descr}\"</p>\n          <p class=\"feedback-name\">${name}</p>\n        </div>\n      </div>\n    `;\n    })\n    .join('');\n}\n\ngetDataFromAPI('feedbacks', 1, 10)\n  .then(data => {\n    if (!data.feedbacks?.length) return;\n\n    const feedbackFromApi = document.querySelector('.feedback-from-API');\n    feedbackFromApi.innerHTML = createSlides(data.feedbacks);\n\n    // зірочки\n    $('.raty').raty({\n      readOnly: true,\n      half: true,\n      starType: 'i',\n      score() {\n        return $(this).attr('data-score');\n      },\n    });\n\n    const prevBtn = document.querySelector('#prev-btn');\n    const nextBtn = document.querySelector('#next-btn');\n\n    const swiper = new Swiper('.feedback-swiper', {\n      modules: [Navigation, Pagination],\n      slidesPerView: 1,\n      spaceBetween: 20,\n      slidesPerGroup: 1,\n      watchOverflow: true,\n      breakpoints: {\n        768: {\n          slidesPerView: 2,\n          spaceBetween: 24,\n        },\n        1440: {\n          slidesPerView: 3,\n          spaceBetween: 32,\n        },\n      },\n      navigation: {\n        nextEl: nextBtn,\n        prevEl: prevBtn,\n      },\n      pagination: {\n        el: '#feedback-dots',\n        clickable: true,\n        bulletClass: 'dot',\n        bulletActiveClass: 'active',\n        renderBullet: (i, className) => `<div class=\"${className}\"></div>`,\n      },\n      on: {\n        init() {\n          updateArrows(this);\n        },\n        slideChange() {\n          updateArrows(this);\n        },\n        resize() {\n          updateArrows(this);\n        },\n      },\n    });\n\n    function updateArrows(sw) {\n      prevBtn.classList.toggle('arrow-disabled', sw.isBeginning);\n      nextBtn.classList.toggle('arrow-disabled', sw.isEnd);\n    }\n  })\n  .catch(err => console.error('Помилка при отриманні відгуків:', err));\n"],"names":["getDataFromAPI","endPoint","page","limit","baseURL","searchParams","url","axios","normalizeRate","rate","createSlides","feedbacks","descr","name","data","_a","feedbackFromApi","prevBtn","nextBtn","Swiper","Navigation","Pagination","i","className","updateArrows","sw","err"],"mappings":"2wBAEO,eAAeA,EAAeC,EAAUC,EAAMC,EAAO,CAC1D,MAAMC,EAAU,4CACVC,EAAe,IAAI,gBAAgB,CACvC,KAAMH,EACN,MAAOC,CACX,CAAG,EAEKG,EAAM,GAAGF,CAAO,GAAGH,CAAQ,IAAII,EAAa,SAAU,CAAA,GAE5D,OADiB,MAAME,EAAMD,CAAG,GAChB,IAClB,CCHA,SAASE,EAAcC,EAAM,CAC3B,OAAIA,GAAQ,KAAOA,GAAQ,IAAY,IACnCA,GAAQ,KAAOA,GAAQ,IAAY,EAChC,KAAK,MAAMA,EAAO,CAAC,EAAI,CAChC,CAEA,SAASC,EAAaC,EAAW,CAC/B,OAAOA,EACJ,IAAI,CAAC,CAAE,MAAAC,EAAO,KAAAC,EAAM,KAAAJ,CAAI,IAEhB;AAAA;AAAA;AAAA,0CADgBD,EAAcC,CAAI,CAIS;AAAA,sCAClBG,CAAK;AAAA,qCACNC,CAAI;AAAA;AAAA;AAAA,KAIpC,EACA,KAAK,EAAE,CACZ,CAEAb,EAAe,YAAa,EAAG,EAAE,EAC9B,KAAKc,GAAQ,OACZ,GAAI,GAACC,EAAAD,EAAK,YAAL,MAAAC,EAAgB,QAAQ,OAE7B,MAAMC,EAAkB,SAAS,cAAc,oBAAoB,EACnEA,EAAgB,UAAYN,EAAaI,EAAK,SAAS,EAGvD,EAAE,OAAO,EAAE,KAAK,CACd,SAAU,GACV,KAAM,GACN,SAAU,IACV,OAAQ,CACN,OAAO,EAAE,IAAI,EAAE,KAAK,YAAY,CACjC,CACP,CAAK,EAED,MAAMG,EAAU,SAAS,cAAc,WAAW,EAC5CC,EAAU,SAAS,cAAc,WAAW,EAEnC,IAAIC,EAAO,mBAAoB,CAC5C,QAAS,CAACC,EAAYC,CAAU,EAChC,cAAe,EACf,aAAc,GACd,eAAgB,EAChB,cAAe,GACf,YAAa,CACX,IAAK,CACH,cAAe,EACf,aAAc,EACf,EACD,KAAM,CACJ,cAAe,EACf,aAAc,EACf,CACF,EACD,WAAY,CACV,OAAQH,EACR,OAAQD,CACT,EACD,WAAY,CACV,GAAI,iBACJ,UAAW,GACX,YAAa,MACb,kBAAmB,SACnB,aAAc,CAACK,EAAGC,IAAc,eAAeA,CAAS,UACzD,EACD,GAAI,CACF,MAAO,CACLC,EAAa,IAAI,CAClB,EACD,aAAc,CACZA,EAAa,IAAI,CAClB,EACD,QAAS,CACPA,EAAa,IAAI,CAClB,CACF,CACP,CAAK,EAED,SAASA,EAAaC,EAAI,CACxBR,EAAQ,UAAU,OAAO,iBAAkBQ,EAAG,WAAW,EACzDP,EAAQ,UAAU,OAAO,iBAAkBO,EAAG,KAAK,CACpD,CACL,CAAG,EACA,MAAMC,GAAO,QAAQ,MAAM,kCAAmCA,CAAG,CAAC"}