import{a as h,i as l,S as b,N as v,P as w}from"./assets/vendor-hUVvDy9I.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function o(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(e){if(e.ep)return;e.ep=!0;const r=o(e);fetch(e.href,r)}})();const d="https://furniture-store.b.goit.study/api",g=document.querySelectorAll(".category-card"),m=document.querySelector(".furniture-list"),a=document.querySelector(".load-more-button"),y=document.querySelector(".loader");let f="",c=1;function L(){y.classList.remove("hidden")}function P(){y.classList.add("hidden")}async function p(t="",n=1,o=8){L();try{const s=t?`${d}/furnitures?category=${t}&limit=${o}&page=${n}`:`${d}/furnitures?limit=${o}&page=${n}`,r=(await h.get(s)).data;if(!r.furnitures||r.furnitures.length===0){l.info({title:"Увага",message:"Більше товарів цієїкатегорії немає в наявності",position:"topRight"}),a.disabled=!0;return}S(r.furnitures,n===1),r.furnitures.length<o?a.disabled=!0:a.disabled=!1}catch(s){console.error("Помилка при отриманні меблів:",s),l.error({title:"Помилка",message:"Не вдалося завантажити меблі. Спробуйте ще раз.",position:"topRight"})}finally{P()}}function S(t,n=!0){const o=t.map(s=>{const e=s.color.map(r=>`<span class="furniture-color-circle" style="background-color: ${r};"></span>`).join("");return`
          <li class="furniture-card">
          <img src="${s.images[0]}" alt="${s.name}" class="furniture-image" />
          <h3 class="furniture-name">${s.name}</h3>
          <div class="furniture-colors">${e}</div>
          <p class="furniture-price">${s.price} грн.</p>
          <button type="button">Детальніше</button>
          </li>
          `}).join("");n?m.innerHTML=o:m.insertAdjacentHTML("beforeend",o)}async function B(){try{const o=await(await fetch(`${d}/categories`)).json();document.querySelectorAll(".category-card").forEach(e=>{const r=e.dataset.name,i=o.find(u=>u.name===r);i&&(e.dataset.id=i._id)})}catch(t){console.error("Помилка при підставці ID категорії:",t),l.error({title:"Помилка",message:"Не вдалося завантажити категорії. Спробуйте ще раз.",position:"topRight"})}}function k(){g.forEach(t=>{t.addEventListener("click",()=>{g.forEach(n=>n.classList.remove("active")),t.classList.add("active"),f=t.dataset.id||"",c=1,p(f,c)})})}a.addEventListener("click",()=>{c+=1,p(f,c)});async function A(){await B(),k(),p()}A();async function E(t,n,o){const s="https://furniture-store.b.goit.study/api/",e=new URLSearchParams({page:n,limit:o}),r=`${s}${t}?${e.toString()}`;return(await h(r)).data}function q(t){return t>=3.3&&t<=3.7?3.5:t>=3.8&&t<=4.2?4:Math.round(t*2)/2}function R(t){return t.map(({descr:n,name:o,rate:s})=>`
      <div class="swiper-slide">
        <div class="feedback-card">
          <div class="raty" data-score="${q(s)}"></div>
          <p class="feedback-text">"${n}"</p>
          <p class="feedback-name">${o}</p>
        </div>
      </div>
    `).join("")}E("feedbacks",1,10).then(t=>{var r;if(!((r=t.feedbacks)!=null&&r.length))return;const n=document.querySelector(".feedback-from-API");n.innerHTML=R(t.feedbacks),$(".raty").raty({readOnly:!0,half:!0,starType:"i",score(){return $(this).attr("data-score")}});const o=document.querySelector("#prev-btn"),s=document.querySelector("#next-btn");new b(".feedback-swiper",{modules:[v,w],slidesPerView:1,spaceBetween:20,slidesPerGroup:1,watchOverflow:!0,breakpoints:{768:{slidesPerView:2,spaceBetween:24},1440:{slidesPerView:3,spaceBetween:32}},navigation:{nextEl:s,prevEl:o},pagination:{el:"#feedback-dots",clickable:!0,bulletClass:"dot",bulletActiveClass:"active",renderBullet:(i,u)=>`<div class="${u}"></div>`},on:{init(){e(this)},slideChange(){e(this)},resize(){e(this)}}});function e(i){o.classList.toggle("arrow-disabled",i.isBeginning),s.classList.toggle("arrow-disabled",i.isEnd)}}).catch(t=>console.error("Помилка при отриманні відгуків:",t));
//# sourceMappingURL=index.js.map
